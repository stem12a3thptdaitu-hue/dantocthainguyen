/* =========================================
   TOOLTIP & SUBMENU (Code mới thêm)
   ========================================= */

/* --- 1. TOOLTIP CƠ BẢN (Hiện chữ đen bên phải) --- */

/* Cần set relative để tooltip định vị theo nút */
.sidebar-item {
    position: relative; 
}

/* Tạo khung chữ hiện ra */
.sidebar-item::after {
    content: attr(data-tooltip); /* Lấy nội dung từ HTML */
    position: absolute;
    left: 100%;       /* Nằm bên phải icon */
    top: 50%;         /* Căn giữa theo chiều dọc */
    transform: translateY(-50%);
    
    background-color: #333; /* Nền đen */
    color: #fff;            /* Chữ trắng */
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 14px;
    white-space: nowrap;    /* Không xuống dòng */
    margin-left: 15px;      /* Cách icon ra một chút */
    opacity: 0;             /* Mặc định ẩn */
    visibility: hidden;
    transition: all 0.2s ease;
    z-index: 10000;
    pointer-events: none;   /* Không cho chuột bấm vào tooltip */
}

/* Tạo mũi tên nhỏ chỉ vào icon (Tam giác) */
.sidebar-item::before {
    content: "";
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    border-width: 6px;
    border-style: solid;
    border-color: transparent #333 transparent transparent; /* Mũi tên hướng trái */
    margin-left: 3px;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
    z-index: 10000;
}

/* Khi di chuột vào thì hiện lên */
.sidebar-item:hover::after,
.sidebar-item:hover::before {
    opacity: 1;
    visibility: visible;
}


/* --- 2. MENU DANH SÁCH DÂN TỘC (Dành riêng cho icon Thổ Cẩm) --- */

/* Wrapper bao quanh icon Thổ Cẩm */
.sidebar-item-wrap {
    position: relative; /* Để menu con định vị theo nó */
    display: flex;
    justify-content: center;
    width: 100%;
}

/* Ẩn tooltip mặc định của icon Thổ Cẩm để tránh bị che menu */
.has-submenu .sidebar-item:hover::after,
.has-submenu .sidebar-item:hover::before {
    display: none; /* Tắt tooltip đen, thay bằng menu trắng to hơn */
}

/* Menu con (Danh sách dân tộc) */
.ethnic-menu {
    position: absolute;
    left: 70px; /* Cách lề trái (sidebar) ra, sidebar rộng 64px */
    top: -50px; /* Đẩy lên trên một chút để cân đối */
    width: 200px;
    background-color: white;
    box-shadow: 4px 4px 15px rgba(0,0,0,0.15); /* Đổ bóng đẹp */
    border-radius: 8px;
    padding: 10px 0;
    
    /* Ẩn mặc định */
    opacity: 0;
    visibility: hidden;
    transform: translateX(-10px); /* Hiệu ứng trượt nhẹ */
    transition: all 0.3s ease;
    z-index: 10001;
}

/* Header của menu (Chữ "Các dân tộc") */
.ethnic-menu .menu-header {
    font-weight: bold;
    color: #198754;
    padding: 5px 20px 10px 20px;
    border-bottom: 1px solid #eee;
    margin-bottom: 5px;
}

/* Danh sách ul li */
.ethnic-menu ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.ethnic-menu li a {
    display: block;
    padding: 8px 20px;
    color: #333;
    text-decoration: none;
    font-size: 15px;
    transition: background 0.2s;
}

/* Hiệu ứng khi di chuột vào từng dòng dân tộc */
.ethnic-menu li a:hover {
    background-color: #f0f9f4; /* Xanh rất nhạt */
    color: #198754; /* Xanh lá đậm */
    padding-left: 25px; /* Hiệu ứng đẩy chữ sang phải */
}

/* --- KÍCH HOẠT MENU KHI DI CHUỘT --- */

/* Khi di chuột vào icon Thổ Cẩm (.sidebar-item-wrap), hiện menu */
.sidebar-item-wrap:hover .ethnic-menu {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
}
